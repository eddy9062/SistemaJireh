<app-header>Articulos</app-header>
<ion-content [fullscreen]="true" class="ion-padding">
    <ion-segment value=0 (ionChange)="segmentChanged($event)" [scrollable]="true">
        <ion-segment-button value=0>
            <ion-icon name="home-outline"></ion-icon>
        </ion-segment-button>

        <ion-segment-button *ngFor="let item of _listBodega" value={{item.cod_bodega}} (click)="selectBodega(item)">
            <ion-img style="width: 100px; height: 100px;" src="assets/images/libreria.png"></ion-img>
            <!--<ion-label>{{ item.nombre }}</ion-label>-->
        </ion-segment-button>
    </ion-segment>

    <ion-grid class="ion-no-padding" color="primary">
        <ion-row class="ion-justify-content-center">
            <ion-col size-xs="12" size-sm="12" size-md="12" size-lg="6" class="ion-no-padding">
                <ion-searchbar mode="ios" placeholder="Buscar Articulo" animated inputmode="text" [debounce]="300" (ionInput)="onSearch( $event )">
                </ion-searchbar>

                <!-- 
                    <ion-card mode="ios" *ngFor="let item of _listArticulo | filtro:_textoBuscar:'descripcion' | filtroSegment:_textoBuscarSegment: 'cod_bodega'">
                        <img center width="100px" height="100px" src="../../../assets/icon/logo.png" />
                        <ion-card-header>
                            <ion-card-title>{{item.descripcion}}</ion-card-title>
                            <ion-card-subtitle>Existencia({{item.existencia}})</ion-card-subtitle>
                        </ion-card-header>

                        <ion-card-content>
                            Here's a small text description for the card content. Nothing more, nothing less.
                        </ion-card-content>
                        <ion-button fill="clear" (click)="onUpdate(item)">Editar</ion-button>
                        <ion-button fill="clear" (click)="onDelete(item)">Eliminar</ion-button>
                        <ion-button fill="clear" (click)="verDetalla(item)">Detalle</ion-button>
                    </ion-card>
                    -->

                <ion-card mode="ios" *ngFor="let item of _listArticulo | filtro:_textoBuscar:'descripcion' | filtroSegment:_textoBuscarSegment: 'cod_bodega'">
                    <!-- <img center width="100px" height="100px" src="../../../assets/icon/logo.png" /> -->
                    <ion-card-header>
                        <ion-card-title>{{item.descripcion}}</ion-card-title>
                    </ion-card-header>

                    <ion-card-content>
                        <ion-list class="ion-no-padding">
                            <ion-item>
                                <ion-thumbnail slot="start">
                                    <img alt="Silhouette of mountains" src="https://ionicframework.com/docs/img/demos/thumbnail.svg" />
                                </ion-thumbnail>
                                <ion-label>
                                    <b>Existencia:</b>{{item.existencia}}
                                    <b>Precio:</b>{{item.precio_compra}}
                                    <p>{{item.obs}}</p>
                                </ion-label>
                            </ion-item>
                        </ion-list>
                    </ion-card-content>
                    <ion-button fill="clear" (click)="onUpdate(item)">
                        <ion-icon slot="start" style="color: rgba(72, 73, 11, 0.685); font-size: 26px" name="create-outline"></ion-icon>
                        Editar
                    </ion-button>
                    <ion-button fill="clear" (click)="onDelete(item)">
                        <ion-icon slot="start" style="color: red; font-size: 24px" name="trash-outline"></ion-icon>
                        Eliminar
                    </ion-button>

                </ion-card>
                <!--
                    <ion-list class="ion-no-padding">
                        <ion-list-header mode="ios">
                            <ion-label class="mt-0">Listado de Articulos</ion-label>
                        </ion-list-header>
                        <br>

                        <ion-item-sliding mode="ios" *ngFor="let item of _listArticulo | filtro:_textoBuscar:'nombre'">
                            <ion-item>
                                <ion-label>
                                    <h3>{{item.descripcion}}</h3>
                                    <p>{{item.existencia}}</p>
                                    <p>{{item.precio_compra}}</p>
                                    <p>{{item.obs}}</p>
                                </ion-label>
                                <ion-label slot="end" class="ion-text-end text-small">{{item.telefono}}</ion-label>
                            </ion-item>

                            <ion-item-options>
                                <ion-item-option color="light" expandable="true" (click)="onUpdate(item)">
                                    <ion-icon slot="start" style="color: rgba(9, 146, 5, 0.685); font-size: 26px" name="create-outline"></ion-icon>
                                </ion-item-option>
                                <ion-item-option color="light" expandable="true" (click)="onDelete(item)">
                                    <ion-icon slot="start" style="color: red; font-size: 24px" name="trash-sharp"></ion-icon>
                                </ion-item-option>
                            </ion-item-options>
                        </ion-item-sliding>
                    </ion-list>
                        -->

            </ion-col>
        </ion-row>
    </ion-grid>

    <ion-fab *ngIf="_textoBuscarSegment != 0" vertical="bottom" horizontal="end" slot="fixed" (click)="creaArticulo()">
        <ion-fab-button>
            <ion-icon name="add-outline"></ion-icon>
        </ion-fab-button>
    </ion-fab>
</ion-content>